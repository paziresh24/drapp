import { memo, useEffect, useState } from 'react';
import { useHistory } from 'react-router-dom';
import styles from './sideBar.module.scss';
import { useDrApp } from '@paziresh24/context/drapp';
import NoImage from '@assets/image/noimage.png';

import {
    CardIcon,
    InfoIcon,
    ExitIcon,
    MessageIcon,
    PrescriptionMenuIcon,
    HouseIcon,
    UserIcon,
    SettingIcon,
    Statistics
} from '@paziresh24/shared/icon';
import { useMenu } from '@paziresh24/context/core/menu';
import { baseURL } from '@paziresh24/utils/baseUrl';
import { CSSTransition } from 'react-transition-group';
import { MenuItem } from '../menuItem';
import { StatusBar } from '../../turning/statusBar';
import { useLevel } from '@paziresh24/context/core/level';
import { getSplunkInstance } from '@paziresh24/shared/ui/provider';
import { useTour } from '@reactour/tour';
import { usePaymentSettingStore } from 'apps/drapp/src/store/paymentSetting.store';
import { useGetPaymentSetting } from '../../../apis/payment/getPaymentSetting';

const SideBar = memo(() => {
    const [open, setOpen] = useMenu();
    const { setIsOpen: setIsOpenTour } = useTour();
    const [level] = useLevel();
    const history = useHistory();
    const [info] = useDrApp();
    const [isDropDownOpen, setIsDropDownOpen] = useState(false);
    const [menuItems, setMenuItems] = useState([]);
    const paymentSetting = usePaymentSettingStore(state => state.setting);
    const getPaymentSetting = useGetPaymentSetting({ center_id: info?.center?.id });

    useEffect(() => {
        getPaymentSetting.remove();
        getPaymentSetting.refetch();
    }, [info.center]);

    useEffect(() => {
        if (level === 'DOCTOR') {
            return setMenuItems([
                {
                    id: 'turnning-list-step',
                    name: 'لیست بیماران',
                    shouldShow: true,
                    icon: <HouseIcon color="#000" />,
                    link: '/',
                    onClick: () =>
                        getSplunkInstance().sendEvent({
                            group: 'sidebar',
                            type: 'click-turnning-menu'
                        }),
                    tourStep: {
                        key: 2,
                        value: '?learn=true'
                    }
                },
                {
                    id: 2,
                    name: 'ویرایش پروفایل',
                    shouldShow: true,
                    icon: <UserIcon color="#000" />,
                    link: '/profile'
                },
                {
                    id: '52',
                    name: 'نسخه نویسی',
                    icon: <PrescriptionMenuIcon color="#000" />,
                    shouldShow: true,
                    subMenu: [
                        {
                            name: 'نسخه های ثبت شده',
                            link: '/prescription'
                        },
                        {
                            name: 'بیمه های من',
                            link: '/providers'
                        },
                        { name: 'نسخه پراستفاده', link: '/favorite/templates' },
                        { name: 'اقلام پراستفاده', link: '/favorite/service' },
                        {
                            name: 'گزارش نسخه نویسی',
                            link: '/dashboard',
                            shouldShow: window._env_.P24_STATISTICS_API
                        }
                    ]
                },
                {
                    id: 12,
                    name: 'رتبه من در پذیرش24',
                    shouldShow: info.center.type_id === 1 || info.center.id === '5532',
                    icon: (
                        <div className="relative">
                            <Statistics color="#000" />
                            <div className="absolute p-1 text-xs text-white bg-red-600 rounded-full -top-1 -left-2" />
                        </div>
                    ),
                    onClick: () => {
                        window.location.assign(
                            `https://www.paziresh24.com/dashboard/apps/sanje/my-performance/`
                        );
                    }
                },
                {
                    id: 8,
                    name: 'تنظیمات نوبت دهی',
                    shouldShow:
                        (info.center?.is_active_booking && info.center.type_id === 1) ||
                        info.center.id === '5532',
                    icon: <SettingIcon color="#000" />,

                    link: '/setting'
                },
                {
                    id: 6,
                    name: paymentSetting.active ? 'پرداخت' : 'فعالسازی پرداخت',
                    shouldShow: info.center.id === '5532' || info.center.type_id === 1,
                    icon: <CardIcon color="#000" />,
                    link: '/setting/payment'
                },
                {
                    id: 7,
                    name: 'قوانین مشاوره',
                    shouldShow: info.center.id === '5532',
                    icon: <InfoIcon color="#000" />,
                    link: '/consult-term'
                },
                {
                    id: 11,
                    name: 'نظرات بیماران',
                    shouldShow: true,
                    icon: <MessageIcon color="#000" />,
                    onClick: () => {
                        window.location.assign(
                            `https://www.paziresh24.com/dr/${info.doctor.slug}#reviews`
                        );
                    },
                    badge: true
                },
                {
                    id: 23,
                    name: 'خروج',
                    shouldShow: true,
                    icon: <ExitIcon color="#000" />,
                    link: '/logout'
                }
                // {
                //     id: 10,
                //     name: 'نسخه های ثبت شده',
                //     shouldShow: true,
                //     icon: <PrescriptionMenuIcon color="#3F3F79" />,
                //     onClick: () =>
                //         getSplunkInstance().sendEvent({
                //             group: 'sidebar',
                //             type: 'click-prescription-menu'
                //         }),
                //     link: '/prescription'
                // },
                // {
                //     id: 25,
                //     name: 'پراستفاده ها',
                //     shouldShow: true,
                //     icon: <StarIcon color="#3F3F79" />,
                //     // link: '/favorite/templates',
                //     subMenu: [
                //         { name: 'نسخه پراستفاده', link: '/favorite/templates' },
                //         { name: 'اقلام پراستفاده', link: '/favorite/service' }
                //     ]
                // },
                // {
                //     id: 4,
                //     name: 'چت',
                //     shouldShow: info.center.id === '5532',
                //     icon: <ChatIcon color="#3F3F79" />,
                //     link: '/consult'
                // },

                // {
                //     id: 'provider-step',
                //     name: 'بیمه های من',
                //     shouldShow: true,
                //     icon: <PrescriptionIcon color="#3F3F79" />,
                //     link: `/providers`,
                //     onClick: () =>
                //         getSplunkInstance().sendEvent({
                //             group: 'sidebar',
                //             type: 'click-providers-menu'
                //         }),
                //     tourStep: {
                //         key: 1,
                //         value: '?learn=true'
                //     }
                // },
            ]);
        }
        return setMenuItems([
            {
                id: 'turnning-list-step',
                name: 'گزارش نسخه نویسی',
                shouldShow: true,
                icon: <Statistics color="#000" />,
                link: '/dashboard'
            },
            {
                id: 23,
                name: 'خروج',
                shouldShow: true,
                icon: <ExitIcon color="#000" />,
                link: '/logout'
            }
        ]);
    }, [info.center, paymentSetting]);

    useEffect(() => {
        if (localStorage.getItem('shouldFillProfile')) {
            setOpen(true);
            setIsDropDownOpen(true);
            setTimeout(() => setIsOpenTour(true), 300);
        }
    }, [open, isDropDownOpen]);

    const handleClickOutside = e => {
        if (isDropDownOpen) {
            setIsDropDownOpen(false);
        }
    };
    useEffect(() => {
        document.body.addEventListener('click', handleClickOutside);

        return () => {
            document.body.removeEventListener('click', handleClickOutside);
        };
    }, [isDropDownOpen]);

    return (
        <div className="flex">
            <div
                style={{
                    paddingBottom: open ? '2rem' : '1rem',
                    alignItems: open ? 'flex-start' : 'center',
                    width: open ? '18rem' : '4rem'
                }}
                className="bg-white flex flex-col py-3 px-1 gap-4 justify-between z-10 border border-left border-solid border-[#e5e9f0] transition-all duration-300 h-screen"
            >
                <div className="flex flex-col w-full gap-6">
                    <div
                        style={{
                            marginRight: open ? '1rem' : 0
                        }}
                        className="relative"
                    >
                        <div
                            onClick={e => {
                                e.stopPropagation();
                                setIsDropDownOpen(prev => !prev);
                            }}
                            className="flex items-center self-center transition-all duration-300 cursor-pointer w-"
                        >
                            <div className="flex flex-col w-[4.5rem] h-[4.5rem] justify-center items-center">
                                <img
                                    src={info.doctor.image ? info.doctor?.image : null ?? NoImage}
                                    style={{
                                        minWidth: open ? '4.5rem' : '2.5rem',
                                        width: open ? '4.5rem' : '2.5rem',
                                        height: open ? '4.5rem' : '2.5rem'
                                    }}
                                    className="self-center overflow-hidden transition-all duration-300 rounded-full"
                                    alt="avatar"
                                />
                            </div>

                            <div
                                style={{
                                    opacity: open ? '1' : '0',
                                    right: open ? '5.5rem' : '0',
                                    transitionDelay: !open ? 'unset' : '0.2s',
                                    width: !open && '0',
                                    overflow: !open && 'hidden'
                                }}
                                className="flex flex-col justify-center transition-all duration-300 absolute text-[#3F3F79] w-40"
                            >
                                <span className="w-11/12 font-bold line-clamp-1">
                                    {`${info.doctor?.name} ${info.doctor?.family}`}
                                </span>
                                <span className="mt-2 text-sm font-normal">
                                    {info.doctor?.expertises?.length > 0 && (
                                        <span className="line-clamp-1">
                                            {info.doctor.expertises[0].alias_title
                                                ? info.doctor.expertises[0].alias_title
                                                : `${
                                                      info.doctor.expertises[0].degree?.name ?? ''
                                                  } ${
                                                      info.doctor.expertises[0].expertise?.name ??
                                                      ''
                                                  }`}
                                        </span>
                                    )}{' '}
                                </span>
                            </div>
                        </div>

                        <CSSTransition
                            in={isDropDownOpen}
                            timeout={300}
                            classNames={{
                                enter: styles.dropdown_enter,
                                enterActive: styles.dropdown_enter_active,
                                enterDone: styles.dropdown_enter_done,
                                exitActive: styles.dropdown_exit_active
                            }}
                            unmountOnExit
                            id="profile-dropdown"
                        >
                            <div
                                className={`${styles.items_dropdown} ${
                                    isDropDownOpen === 'open' ? styles.open : ''
                                } ${isDropDownOpen === 'closing' ? styles.closing : ''}`}
                            >
                                <ul>
                                    <li
                                        onClick={() => {
                                            history.push('/profile');
                                            setIsOpenTour(false);
                                            localStorage.removeItem('shouldFillProfile');
                                            setIsDropDownOpen(false);
                                            setTimeout(() => setOpen(false), 0);
                                        }}
                                    >
                                        <UserIcon color="#758599" />
                                        <span>پروفایل من</span>
                                    </li>

                                    <li onClick={() => history.push('/logout')}>
                                        <ExitIcon color="#758599" />
                                        <span>خروج از حساب کاربری</span>
                                    </li>
                                </ul>
                            </div>
                        </CSSTransition>
                    </div>

                    <div>
                        {menuItems.map(
                            item => item.shouldShow && <MenuItem key={item.id} item={item} />
                        )}
                    </div>
                </div>

                <div className="flex flex-col items-start w-full">
                    <a
                        href="https://support.paziresh24.com/?utm_source=drpanel&utm_medium=p24&utm_campaign=telblock"
                        target="_blank"
                        style={{
                            right: open ? '1rem' : '-100%',
                            transitionDelay: !open ? 'unset' : '0.2s',
                            opacity: open ? '1' : '0'
                        }}
                        className="absolute flex items-center justify-center pr-6 transition-all duration-300 space-s-2 bottom-24"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            version="1.1"
                            x="0px"
                            y="0px"
                            viewBox="0 0 1000 1000"
                            enableBackground="new 0 0 1000 1000"
                            className="w-6 h-6 opacity-60"
                        >
                            <g>
                                <path d="M520.1,10c9.2,0.9,18.3,1.7,27.5,2.6c60.9,6.5,118.2,24.8,170.9,56.1c103.4,61.3,171.2,150.1,203,266.1c9.7,35.3,14.1,71.4,14.3,108c0.1,36.9,0,73.8,0,110.7c0,17.7-4.1,34.3-11.7,50.3c-3,6.3-4.3,13.5-6.3,20.3c-45.1,153.2-172.9,270.5-329.8,302.5c-10.8,2.2-21.7,3.9-32.6,5.3c-3.7,0.5-4.9,2.3-6.1,5.4c-12.7,33.5-45,54.4-81,52.6c-34.8-1.7-65.2-26.6-74.2-60.6c-10.8-40.7,11.1-82.8,50.7-97.5c39.4-14.6,83.6,3.2,101.8,41.3c1.9,4.1,4,5,8.2,4.3c131.7-22.1,227.9-92.8,288.8-211.5c0.5-1,1-2.1,1.8-3.8c-4.3,0.4-8,1-11.7,1.2c-62.9,3.5-115.3-45.8-115.5-108.7c-0.1-36.1-0.1-72.3,0-108.4c0.1-63.1,52.1-112.6,115-109c10.4,0.6,20.7,4,31,6.2c1,0.2,1.9,0.6,3.1,1C833,208.2,700.3,69.3,509.7,64.7c-195.5-4.8-339.1,133.3-376.5,279c7.5-1.8,15-4.1,22.7-5.5c56.9-10.5,115.1,30.3,124.5,87.4c1.2,7.3,1.8,14.7,1.8,22.1c0.2,35.4,0.2,70.8,0.1,106.2c-0.2,52.6-35.6,96.2-86.9,107.3c-59.2,12.8-119.1-27.9-129-87.7c-1-6.1-1.7-12.3-1.7-18.5c-0.1-38.1-0.9-76.2,0.1-114.3c3.5-139.5,60.2-253,169.4-339.7C290,56.6,353.8,29.1,424,16.7c16.9-3,34.2-4,51.3-6c1.6-0.2,3.2-0.5,4.9-0.8C493.5,10,506.8,10,520.1,10z M227.9,500.5c0-18,0-36,0-54c-0.1-31.1-24.1-55.4-54.5-55.4c-30.2,0-54.3,24.4-54.3,55.1c-0.1,35.8-0.1,71.7,0,107.5c0,4.2,0.4,8.5,1.3,12.6c6.1,27,31.6,45.4,58.4,42.4c28.2-3.2,48.9-26,49.1-54.2C228,536.4,227.9,518.4,227.9,500.5z M772.4,500c0,17.8-0.1,35.7,0.1,53.5c0,4.3,0.4,8.8,1.4,13c6.3,27,31.9,45.3,58.5,42.1c28.4-3.4,48.8-26.1,48.9-54.5c0.1-36.1,0.1-72.3,0-108.4c0-4.2-0.5-8.5-1.5-12.6c-6.3-26.8-31.6-44.9-58.3-41.9c-28.3,3.2-48.9,26-49.1,54.3C772.3,463.7,772.4,481.9,772.4,500z" />
                            </g>
                        </svg>
                        <span className="font-bold opacity-60">ارتباط با پشتیبانی</span>
                    </a>
                    <div
                        style={{
                            paddingRight: open ? '1rem' : '0'
                        }}
                        className="relative flex items-center w-full transition-all duration-300"
                    >
                        <div className="flex items-center justify-center w-16 h-10">
                            <svg
                                width="35"
                                height="36"
                                viewBox="0 0 35 36"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M33.8807 16.0418L33.5926 11.1331C33.5421 10.3963 33.3329 9.68026 32.9802 9.03695C32.6276 8.39365 32.1402 7.83917 31.5536 7.41373L29.0342 5.60346C27.1325 4.23593 25.1082 3.05886 22.9887 2.08833L19.4742 0.480659C18.8657 0.201546 18.2056 0.061934 17.5395 0.0714939C16.8406 0.0510296 16.1464 0.19491 15.5097 0.492189L11.8663 2.19144C9.93322 3.09233 8.08052 4.16568 6.32937 5.3992L3.47515 7.40879C2.87822 7.83321 2.38167 8.39036 2.02223 9.03903C1.66279 9.6877 1.44968 10.4113 1.39865 11.1562L1.11477 16.0391C1.09716 17.3441 1.09716 18.6493 1.11477 19.9542L1.40057 24.8629C1.45139 25.5996 1.6607 26.3156 2.01335 26.9588C2.366 27.6021 2.85318 28.1566 3.43962 28.5823L5.95971 30.3971C7.86184 31.7649 9.88688 32.942 12.0071 33.9123L15.5209 35.5209C16.1298 35.7994 16.7901 35.9384 17.4563 35.9284C18.1551 35.9489 18.8493 35.805 19.4861 35.5078L23.1295 33.8105C25.0626 32.9096 26.9153 31.8362 28.6664 30.6027L31.5206 28.5931C32.1175 28.1687 32.614 27.6116 32.9734 26.963C33.3327 26.3144 33.5458 25.5909 33.5968 24.8461L33.8813 20.0303C33.8929 18.982 33.9133 17.2801 33.8807 16.0418V16.0418Z"
                                    fill="#3F3F79"
                                />
                                <path
                                    d="M17.6661 6.14687L17.6767 6.31752C17.6769 6.33768 17.6841 6.3571 17.697 6.37234C17.7098 6.38759 17.7274 6.39769 17.7468 6.40087C17.772 6.40749 17.7977 6.41244 17.8236 6.41569C18.0772 6.44638 18.3292 6.49037 18.5786 6.54747C18.9715 6.63134 19.36 6.73636 19.7423 6.86209C21.5505 7.44666 23.1939 8.47428 24.5312 9.8567C24.8477 10.1823 25.1442 10.5277 25.419 10.8911C25.5208 11.0256 25.5195 11.0229 25.6789 10.9745C25.8576 10.9207 26.0409 10.8846 26.2262 10.8664C26.4509 10.8461 26.6771 10.8493 26.9012 10.876C27.1249 10.9023 27.3444 10.9583 27.5541 11.0427C28.1502 11.2691 28.6561 11.6934 28.9918 12.2488C29.2653 12.7092 29.4129 13.2371 29.419 13.7767C29.4037 14.5588 29.0872 15.3027 28.5392 15.8447C27.9912 16.3867 27.2565 16.6826 26.4966 16.6672C26.4393 16.6685 26.3819 16.6661 26.3248 16.66C26.1477 16.6479 25.972 16.6202 25.7996 16.5773C25.3239 16.4585 24.8857 16.2164 24.5266 15.874C24.1676 15.5315 23.8997 15.1002 23.7484 14.6211C23.6232 14.2212 23.5882 13.7973 23.6459 13.3814C23.6962 12.9879 23.8252 12.6095 24.0249 12.27C24.2245 11.9305 24.4904 11.6373 24.8058 11.409C24.8301 11.3902 24.8541 11.3721 24.8772 11.352C24.8839 11.3474 24.8858 11.3372 24.8951 11.3191C24.8765 11.2908 24.8573 11.2571 24.8337 11.2268C23.3956 9.39625 21.4404 8.07096 19.2385 7.43432C18.9011 7.33639 18.5593 7.25492 18.2143 7.19021C18.0655 7.16188 17.9154 7.14112 17.7663 7.11839C17.7093 7.1095 17.6821 7.12926 17.6789 7.18428C17.6751 7.26367 17.6789 7.34307 17.6751 7.42213V7.70282C17.6762 7.71062 17.6758 7.71859 17.6739 7.72623C17.6719 7.73387 17.6685 7.74104 17.6639 7.74729C17.6591 7.75355 17.6533 7.75878 17.6465 7.76268C17.6398 7.76658 17.6325 7.76908 17.6248 7.77002H17.6088C17.4446 7.77002 17.2779 7.77002 17.1159 7.76607C17.1079 7.76607 17.1006 7.75882 17.0839 7.74993C17.0781 7.71855 17.074 7.68688 17.0714 7.65505V7.3513C17.0714 7.31607 17.0694 7.28087 17.0654 7.24588C17.0642 7.23024 17.0573 7.21561 17.0462 7.20489C17.0351 7.19416 17.0204 7.1881 17.0052 7.1879C16.9878 7.18657 16.9704 7.18657 16.953 7.1879L16.3821 7.20997C16.2996 7.21056 16.2172 7.21551 16.1353 7.2248C15.95 7.2449 15.7647 7.26433 15.581 7.29069C15.3973 7.31704 15.2132 7.34999 15.0298 7.38293C14.7652 7.43004 14.5046 7.49461 14.2457 7.56709C12.3489 8.09458 10.6346 9.16075 9.29867 10.6437C8.67608 11.3358 8.14745 12.1116 7.72721 12.9498C7.47734 13.4466 7.26753 13.9637 7.09991 14.4959C6.9974 14.8227 6.9113 15.1548 6.84195 15.4908C6.78413 15.7664 6.73719 16.0436 6.70113 16.3223C6.67328 16.5361 6.66016 16.7506 6.64288 16.967C6.6336 17.0807 6.62751 17.195 6.62367 17.31C6.62367 17.3907 6.64032 17.4088 6.71969 17.4154H7.96501C8.01899 17.4076 8.07399 17.4139 8.12504 17.4335C8.13315 17.4519 8.13896 17.4713 8.14232 17.4911C8.15097 17.6649 8.14636 17.839 8.12856 18.012C8.107 18.0194 8.08482 18.0248 8.06231 18.0281H6.8045C6.75313 18.0183 6.70004 18.0265 6.65376 18.0515C6.63652 18.0876 6.63146 18.1285 6.63936 18.1678C6.64313 18.3615 6.65788 18.5548 6.68352 18.7466C6.70209 18.8636 6.71073 18.9825 6.72513 19.1001C6.75297 19.3274 6.7965 19.5518 6.84163 19.7758C6.90788 20.0911 6.98661 20.4018 7.07847 20.7075C7.23962 21.2378 7.44301 21.7536 7.68657 22.2496C8.35907 23.6052 9.30428 24.7979 10.4593 25.7483C11.6144 26.6987 12.9528 27.3851 14.3856 27.7618C14.6707 27.8372 14.9585 27.9015 15.2455 27.9512C15.4971 27.995 15.7509 28.0243 16.005 28.0527C16.3596 28.0909 16.7143 28.0945 17.0695 28.1018C17.1358 28.1018 17.2017 28.1018 17.2648 28.0965C17.3278 28.0912 17.3428 28.0718 17.3416 28.0125C17.3416 27.911 17.3348 27.8109 17.3278 27.7087C17.3012 27.3263 17.3035 26.9431 17.3041 26.5606C17.3052 26.4453 17.3316 26.3317 17.3815 26.2284C17.4314 26.1251 17.5034 26.0348 17.5922 25.9644C17.7408 25.8414 17.9167 25.7584 18.1043 25.7229C18.3283 25.6718 18.5523 25.6214 18.7764 25.5743C18.9457 25.5387 19.1166 25.5084 19.2865 25.4755C19.372 25.4593 19.4565 25.4425 19.5426 25.429C19.6706 25.4076 19.7986 25.3826 19.9266 25.3664C20.1574 25.3269 20.3915 25.3111 20.6253 25.3193C20.7074 25.3253 20.7886 25.3402 20.8676 25.3638C20.9812 25.3963 21.0802 25.4688 21.1473 25.5687C21.2942 25.77 21.4309 25.9789 21.557 26.1946C21.6603 26.3827 21.7752 26.5649 21.8879 26.7491C21.899 26.768 21.9118 26.7858 21.9263 26.8021C21.9366 26.8169 21.9517 26.8273 21.9688 26.8316C21.986 26.8359 22.004 26.8337 22.0198 26.8255C22.0473 26.8128 22.0738 26.798 22.0991 26.781C22.6365 26.4256 23.1684 26.0619 23.6792 25.6665C24.3171 25.1662 24.8819 24.5742 25.3563 23.9086C25.4616 23.7627 25.5701 23.6204 25.6732 23.4731C25.7557 23.3549 25.8332 23.2326 25.9106 23.1107C25.9614 23.0277 25.9816 22.9287 25.9676 22.8317C25.961 22.7476 25.9382 22.6657 25.9006 22.5907C25.863 22.5158 25.8114 22.4492 25.7487 22.3949C25.5511 22.2164 25.3442 22.0492 25.1287 21.8941C24.9335 21.7692 24.7793 21.5867 24.6861 21.3703C24.6015 21.1569 24.5876 20.9207 24.6464 20.6982L24.7786 20.1471L24.9598 19.393C25.0206 19.1457 25.081 18.8981 25.1409 18.6501C25.1693 18.5258 25.2118 18.4053 25.2673 18.291C25.3304 18.1663 25.423 18.06 25.5366 17.9819C25.6501 17.9037 25.781 17.8563 25.917 17.844C26.1187 17.8171 26.3228 17.8143 26.5251 17.8357C26.8401 17.8667 27.1556 17.8914 27.4706 17.9165C27.5829 17.9253 27.6946 17.926 27.8085 17.9293C28.0518 17.9293 28.2948 17.9429 28.5367 17.9698C28.6276 17.9823 28.7164 18.0076 28.8007 18.0449C28.8821 18.0804 28.9546 18.1345 29.0128 18.2029C29.071 18.2714 29.1134 18.3525 29.1368 18.4403C29.1823 18.578 29.1921 18.7257 29.1652 18.8685C29.1368 19.0029 29.13 19.1374 29.1089 19.2718C29.0747 19.4928 29.0427 19.7149 28.9972 19.9346C28.9476 20.1847 28.8887 20.4327 28.8324 20.6814C28.7623 20.9812 28.6769 21.2769 28.5763 21.5673C28.2761 22.489 27.8637 23.3678 27.3489 24.1827C27.0248 24.6942 26.6636 25.1797 26.2685 25.6352C25.6544 26.3457 24.9667 26.9847 24.2176 27.5411C23.5764 28.0235 22.8892 28.4377 22.1667 28.7771C21.7414 28.9753 21.3071 29.1523 20.8653 29.3075C20.5622 29.4129 20.2534 29.4976 19.9391 29.5763C19.6248 29.6551 19.3124 29.714 18.9975 29.7694C18.8356 29.7977 18.6707 29.8083 18.5072 29.83C18.3439 29.8531 18.1791 29.8622 18.0143 29.857C17.9235 29.8565 17.8337 29.8381 17.7496 29.8027C17.6627 29.7623 17.5895 29.6961 17.5394 29.6126C17.4858 29.5272 17.4472 29.4327 17.4254 29.3335C17.4136 29.2825 17.3969 29.2347 17.3819 29.181C17.3502 29.1751 17.3181 29.1712 17.2859 29.1695H16.987C16.6403 29.1714 16.2938 29.1541 15.949 29.1178C15.6946 29.0936 15.4411 29.0607 15.1889 29.0189C14.3331 28.8819 13.4954 28.6439 12.6925 28.3096C10.3176 27.3349 8.32935 25.5678 7.04614 23.2916C6.49152 22.3055 6.08718 21.2377 5.84723 20.1254C5.7685 19.763 5.71505 19.4006 5.66192 19.0336C5.63535 18.8359 5.62351 18.6409 5.61103 18.4406C5.59311 18.1461 5.57006 17.8519 5.57903 17.5567C5.58959 17.2006 5.60815 16.8441 5.64528 16.4893C5.66917 16.2392 5.70118 15.9904 5.74129 15.7431C5.78962 15.4536 5.84787 15.1643 5.92052 14.8787C5.99317 14.5931 6.07062 14.3186 6.15992 14.0432C6.33349 13.5121 6.54587 12.9953 6.79522 12.4972C7.25109 11.585 7.82316 10.7396 8.4963 9.9832C9.87764 8.44129 11.6295 7.30146 13.5752 6.67859C13.9008 6.57161 14.2321 6.48362 14.5674 6.41503C14.7415 6.38209 14.914 6.33564 15.0894 6.30764C15.3243 6.27008 15.5605 6.24175 15.7973 6.21408C16.0083 6.19103 16.2198 6.17356 16.4317 6.1617C16.6739 6.14885 16.9165 6.14424 17.1595 6.13831H17.5365C17.5758 6.13864 17.612 6.14325 17.6661 6.14687V6.14687ZM28.5591 13.9365C28.5913 13.5297 28.5091 13.1219 28.3224 12.7618C28.1357 12.4018 27.8523 12.1046 27.5061 11.9056C27.1598 11.7067 26.7653 11.6145 26.3695 11.64C25.9738 11.6655 25.5935 11.8077 25.2741 12.0495C25.1856 12.1146 25.1021 12.1865 25.0241 12.2646C24.8351 12.4534 24.6845 12.6791 24.5811 12.9284C24.4777 13.1777 24.4236 13.4458 24.4218 13.7169C24.4201 13.988 24.4708 14.2567 24.571 14.5074C24.6713 14.7581 24.819 14.9858 25.0055 15.1772L25.011 15.1831C25.3487 15.5341 25.795 15.7526 26.2726 15.8008C26.6586 15.8484 27.0497 15.7783 27.3973 15.5992C27.7186 15.4557 27.9963 15.2254 28.2008 14.9326C28.4053 14.6399 28.5291 14.2957 28.5591 13.9365V13.9365Z"
                                    fill="white"
                                />
                                <path
                                    d="M16.8366 19.6924C16.8405 19.7487 16.8459 19.7873 16.8459 19.8268V20.8178C16.8459 20.9631 16.8421 20.965 16.7003 20.9677H12.1235C12.0617 20.9757 11.9989 20.9697 11.9395 20.9502C11.9206 20.8973 11.9189 20.8395 11.9347 20.7855C12.019 20.3112 12.1968 19.8598 12.4573 19.4592C12.627 19.2084 12.8152 18.9715 13.0203 18.7505C13.3855 18.3473 13.7785 17.9773 14.1703 17.6031C14.4103 17.3725 14.6439 17.1379 14.8744 16.9001C15.0296 16.7466 15.1618 16.5703 15.2668 16.3769C15.3638 16.1946 15.4256 15.9947 15.4489 15.7882C15.4705 15.59 15.441 15.3895 15.3634 15.2067C15.3191 15.0952 15.2507 14.9955 15.1634 14.9152C15.076 14.8349 14.972 14.7762 14.8593 14.7436C14.5973 14.6561 14.3142 14.6622 14.056 14.761C13.9398 14.8033 13.8346 14.8724 13.7483 14.9629C13.6619 15.0533 13.5967 15.1629 13.5577 15.2832C13.5093 15.4107 13.4803 15.5452 13.4716 15.6818C13.4676 15.7117 13.4617 15.7413 13.4537 15.7704C13.4352 15.7751 13.4163 15.7777 13.3973 15.7783C12.9706 15.7379 12.5439 15.6967 12.1171 15.6548C12.1104 15.6548 12.104 15.6446 12.0886 15.6327C12.0853 15.5962 12.0853 15.5595 12.0886 15.523C12.1302 15.2533 12.2033 14.9897 12.3063 14.738C12.4887 14.321 12.814 13.9879 13.22 13.8023C13.4867 13.674 13.7718 13.5911 14.0643 13.5569C14.2447 13.5333 14.4266 13.5234 14.6084 13.5273C14.9515 13.5296 15.2912 13.5966 15.6108 13.7249C15.8755 13.8286 16.1144 13.9915 16.3105 14.2017C16.5066 14.412 16.6549 14.6645 16.7448 14.9409C16.8428 15.2472 16.8718 15.5724 16.8296 15.892C16.7636 16.3881 16.5745 16.8583 16.2804 17.2572C16.0947 17.5238 15.8825 17.7698 15.6473 17.9912C15.3164 18.3071 14.979 18.6171 14.6449 18.9324C14.4791 19.0806 14.3262 19.2434 14.1879 19.419C14.1408 19.4816 14.096 19.5468 14.0557 19.6133C14.032 19.6502 14.0502 19.6792 14.096 19.6852C14.14 19.6875 14.1842 19.6875 14.2282 19.6852H16.6606C16.7095 19.6871 16.7652 19.6904 16.8366 19.6924V19.6924ZM22.2567 19.4486C22.2004 19.4486 22.1527 19.4545 22.1059 19.4545H21.5106C21.4635 19.4474 21.4154 19.4549 21.3724 19.476C21.3537 19.5255 21.3475 19.5791 21.3545 19.6318V20.7941C21.3545 20.8418 21.3506 20.8896 21.349 20.9331C21.3061 20.9616 21.2543 20.9722 21.204 20.9627H20.121C20.0931 20.9612 20.0653 20.958 20.0378 20.9532C20.0238 20.9378 20.0136 20.9193 20.008 20.899C20.0025 20.8788 20.0017 20.8575 20.0058 20.8369V19.6236C20.0058 19.5758 20.0019 19.5287 19.999 19.477C19.9728 19.468 19.9458 19.4615 19.9184 19.4575H17.1752C17.1171 19.4639 17.0583 19.4579 17.0024 19.4401C16.9945 19.4115 16.9891 19.3823 16.9864 19.3528V18.2834C16.9898 18.2212 17.0131 18.1619 17.0526 18.1147C17.2829 17.7787 17.5125 17.4425 17.7414 17.1063L20.0909 13.6673C20.1988 13.5101 20.1623 13.5276 20.3556 13.5263H21.1957C21.2447 13.5202 21.2944 13.5262 21.3407 13.5437C21.3472 13.568 21.3522 13.5926 21.3554 13.6175V18.0192C21.3554 18.0676 21.3554 18.116 21.3593 18.1645C21.36 18.1779 21.3655 18.1905 21.3748 18.2C21.3841 18.2094 21.3965 18.215 21.4095 18.2155C21.4438 18.2155 21.4758 18.2195 21.5135 18.2195H22.1267C22.1709 18.2186 22.215 18.2202 22.2589 18.2241C22.266 18.2455 22.2708 18.2676 22.2733 18.29V19.3864C22.2694 19.4075 22.2638 19.4283 22.2567 19.4486ZM19.9779 15.6976C19.9459 15.7408 19.9257 15.7635 19.9117 15.7875L18.8993 17.2974L18.37 18.0824C18.3469 18.1154 18.3124 18.1483 18.313 18.1921C18.3249 18.2023 18.3316 18.2122 18.3383 18.2122C18.8674 18.2149 19.3967 18.2166 19.9261 18.2175C19.9476 18.2197 19.9693 18.2149 19.9881 18.2038C20.0069 18.1927 20.0219 18.1758 20.0309 18.1555C20.0399 18.1353 20.0426 18.1126 20.0385 18.0907C20.0344 18.0688 20.0237 18.0487 20.008 18.0333V15.7734C20.0007 15.748 19.9907 15.7234 19.9782 15.7002L19.9779 15.6976ZM28.3466 13.6004C28.369 13.9947 28.2707 14.3863 28.0656 14.7202C27.8606 15.0541 27.559 15.3134 27.2034 15.4617C26.9217 15.5789 26.6168 15.625 26.3143 15.5961C25.9558 15.5666 25.6134 15.43 25.3291 15.2032C25.0449 14.9763 24.8311 14.669 24.714 14.3189C24.6289 14.0731 24.5994 13.8106 24.628 13.5513C24.6583 13.2235 24.773 12.91 24.96 12.6429C25.1471 12.3758 25.3999 12.1648 25.6924 12.0316C25.9732 11.887 26.2873 11.8251 26.6001 11.8527C26.9604 11.8699 27.3079 11.9955 27.5995 12.214C27.8911 12.4326 28.1139 12.7345 28.2404 13.0822C28.3056 13.247 28.3416 13.4225 28.3466 13.6004V13.6004ZM26.475 12.8904C26.2604 12.8869 26.0531 12.9707 25.8982 13.1237C25.7434 13.2766 25.6534 13.4863 25.648 13.7071C25.6516 13.9286 25.7393 14.1398 25.8922 14.2957C26.0451 14.4515 26.2511 14.5397 26.4663 14.5413C26.6819 14.5457 26.8905 14.4618 27.046 14.308C27.2016 14.1543 27.2914 13.9432 27.2959 13.7213C27.297 13.6134 27.2773 13.5064 27.2379 13.4065C27.1984 13.3065 27.14 13.2157 27.0661 13.1392C26.9156 12.9834 26.7115 12.895 26.498 12.8931L26.475 12.8904Z"
                                    fill="white"
                                />
                                <path
                                    d="M26.4836 13.3949C26.5696 13.3925 26.6531 13.425 26.7162 13.4853C26.7792 13.5456 26.8168 13.6289 26.8209 13.7174C26.8223 13.7627 26.815 13.8079 26.7995 13.8504C26.7839 13.8928 26.7604 13.9317 26.7302 13.9647C26.7 13.9978 26.6638 14.0244 26.6236 14.0431C26.5835 14.0618 26.5401 14.0721 26.4961 14.0735H26.4836C26.3974 14.0709 26.3153 14.0348 26.2539 13.9725C26.1925 13.9101 26.1563 13.8262 26.1526 13.7375C26.1498 13.6496 26.181 13.5641 26.2393 13.4998C26.2976 13.4355 26.3783 13.3976 26.4637 13.3945L26.4836 13.3949Z"
                                    fill="white"
                                />
                            </svg>
                        </div>
                        <span
                            style={{
                                right: open ? '4.5rem' : '0',
                                transitionDelay: !open ? 'unset' : '0.2s',
                                opacity: open ? '1' : '0'
                            }}
                            className="font-black absolute transition-all duration-300 text-[#3F3F79]"
                        >
                            پذیرش24
                        </span>
                    </div>
                </div>
            </div>
            <StatusBar />
        </div>
    );
});

export { SideBar };
